<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>お問い合わせフォーム</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </head>
    <body>
        <div id="pastInquiry"></div>
    </body>
</html>
<script type="text/javascript">
    // 初期表示処理
    window.onload = function(){
        // GETメソッド呼び出し
        var xmlHttpRequest = new XMLHttpRequest();
        xmlHttpRequest.open( 'GET', 'https://protocomdev-dev-ed.my.salesforce.com/services/apexrest/PPB_Inquiry__c/A0000001');
        xmlHttpRequest.setRequestHeader( 'Authorization', 'Bearer 00D5j00000BXmyf!ARUAQIl9xYTMOxAEuy39t2eRwYR59kxGZTWZwbq8QxFNb.DJ8ljDk2UTfSWkBjH8FJe5LCBu4JHoWBAe6BE29zxfzPV9DPhn');
        xmlHttpRequest.send();

        // 画面表示
        var res = JSON.parse(this.responseText);
        if(res.length != 0){
            for (var i = 0; i < res.length; i++) {
                document.getElementById('pastInquiry').innerHTML += res[i].Inquiry__c + '<br>';
            }
        }
    }

    // タグ内にjavascriptコードを直接記述します。
    function sendinfo() {
        /*var assoc = {};

        //セレクトボックスの値を変数に保存
        assoc.ID = '0016F00003WxitRQAR';
        console.log(assoc.ID);

        data = JSON.stringify( assoc );

        console.log(data);

        var xmlHttpRequest = new XMLHttpRequest();
        xmlHttpRequest.onreadystatechange = function()
        {
            var READYSTATE_COMPLETED = 4;
            var HTTP_STATUS_OK = 200;

            if( this.readyState == READYSTATE_COMPLETED
             && this.status == HTTP_STATUS_OK )
            {
                // レスポンスの表示
                alert( this.responseText );
            }
        }

        xmlHttpRequest.open( 'POST', 'https://d6f000000eriauaw-dev-ed.my.salesforce.com/services/apexrest/Account/');

        // サーバに対して解析方法を指定する
        xmlHttpRequest.setRequestHeader( 'Content-Type', 'application/json');
        xmlHttpRequest.setRequestHeader( 'Authorization', 'Bearer 00D6F000000ERiA!AREAQD2LBWtZEVfxK_s6C6HH2wk9ugvTtJnk9.aAsLLiUcqGQYsGH0ViB8Wlu8coNT2WaHIv180bVMRRMwYOz00jU9HtWc7d');
        //xmlHttpRequest.setRequestHeader( 'Origin', 'https://example.com');

        // データをリクエスト ボディに含めて送信する

        xmlHttpRequest.send( data );*/

    }
</script>
